@model IEnumerable<Blog.Models.ImageView>

@{
    ViewBag.Title = "UploadImage";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<link href="~/Content/css/page/home.css" rel="stylesheet" type="text/css">
<h2>UploadImage</h2>



<div class="container">

    <div class="row">
        <div class="col-lg-12">
            <h1 class="page-header">@Session["LoggedUserName"].ToString()'s Gallery</h1>
        </div>


        @foreach (var image in Model)
        {
            <div class="col-lg-3 col-md-4 col-xs-6 thumb" id ="flipper">
                <div class="front">
                <a href="@Url.Action("ImageDetail", "Home", new Blog.Models.ImageView { Url = image.Url })" class="returnImage" data-url="@Request.Url.GetLeftPart(UriPartial.Authority)@image.Url">
                    <img src="@image.Url" alt="Hejsan" id="#image" data-source="@image.Url" class="img-responsive" width="200" height="200"/>
                </a>
                </div>
                <div class="back">
                    <p>Post at @image.UpdateDate</p>
                    <p id="refUrl">@image.Url</p>
                </div>
                <br>
                <button class="btn btn-default btn-sm detail">Detail</button>
                <div>
                    
                    
                </div>
            </div>
        }

    </div>
</div>

<hr>
<script type="text/javascript">
    $(document).ready(function () {
        $(".returnImage").click("click", function (e) {
            var urlImage = $(this).attr("data-url");
            window.opener.$("div[name='info']>table>tbody>tr:nth-of-type(1)>td.cke_dialog_ui_vbox_child>div>table>tbody>tr>td>table>tbody>tr>td>div>div>div>input.cke_dialog_ui_input_text").val(urlImage);
            window.close();
        });
    });
</script>
